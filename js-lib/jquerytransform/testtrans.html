<html>
<head>
	<script language="javascript" src="js/jquery-1.3.2.min.js"></script>
	<style>
	body { margin:0px;padding:0px;}
	.header { border-bottom:1px solid black; background-color:#eee;padding-bottom:10px;width:100%;}
	.logo { text-align:right; }
	.logo img { border:0px; }
	.header td { vertical-align:middle; }

	.title { font-size:24pt; margin-left:30px; }

	.main { padding:15px; }
	td { vertical-align:top; width:50%;}
	</style>
	<script language="javascript" src="js/jquery.transform.js"></script>
	<script language="javascript" src="js/examplefunctions.js"></script>
	<script>
	
	function asXMLSuccess(xml,xsl,xmlorig) {
		
	//	$.transform({dataType:"xml", success:asXMLSuccess2, xmlobj:xml, xsl:"xsl/group.xsl"})
	
	
	}
	
		function asXMLSuccess2(xml,xsl,xmlorig) {
		
		
$("#result").transform({xmlobj:xml,xsl:"xsl/group.xsl", xslParams:{test:"This was transformed by setting dataType to xml in the initial request which returned an XML Document as the first argument. Then it set xmlobj in the subsequent request with that XML Document."},
error : function(html,xsl,xml,obj,ex){
alert("Error - " + ex.message);
}
});
} 
	</script>
	
</head>
<body>
<table class="header">
	<tr><td><a class="title">jQuery Transform (Client-side)</a></td><td align="right"><a class="logo" href="http://daersystems.com/jquery.asp"><img src="img/logo.gif" /></a></td></tr>
</table>
<div class="main">
<div>
Try the <a href="server.html">Server-side</a> version
</div>
<div id="loading" style="display:none;"><img src="img/spinner.gif"/>Loading message...</div>
<table width="100%">
	<tr>
		<td>
			<h3>Examples</h3>
			<div><a class="ex" href="javascript:void(0);" onclick='$.transform({dataType:"xml",success:asXMLSuccess2, error : function(html,xsl,xml,obj,ex){
alert("Error - " + ex.message);
},xml:"http://localhost:8080/exist/xquery/return-combined.xq?m=2011-07-24-COMENVLEEF", xsl:"xsl/addclipref.xsl"})'>Return XML document and use in next transformation</a> - For if XSL returns valid XML data. Will return an XML object instead of html</div>
			
		</td>
		<td>
			<h3>Files</h3>
			<div>
				<a href="xml/catalog.xml" target="_blank">Catalog.xml</a>&nbsp;
				<a href="xsl/cds.xsl" target="_blank">Cds.xsl</a>&nbsp;
				<a href="xsl/import.xsl" target="_blank">Import.xsl</a>&nbsp;
				<a href="xsl/include.xsl" target="_blank">Include.xsl</a>&nbsp;
				<a href="xsl/service.xsl" target="_blank">Service.xsl</a>&nbsp;
				<a href="xsl/simple.xsl" target="_blank">Simple.xsl</a>&nbsp;
			</div>
			<h3>Results</h3>
			<a href="javascript:void(0);" onclick='$("#result").empty();'>[Clear Results]</a>
			<div id="result" style="border:1px solid red;" transform='{xml:"xml/catalog.xml", xsl:"xsl/cds.xsl",xslParams:{test:"This div was transformed on load by adding a transform attribute."}}'></div>
		</td>
</table>
</div>


</body>
</html>